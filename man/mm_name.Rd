% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mm_name.R
\name{mm_name}
\alias{mm_name}
\title{Find the name of a model by its features}
\usage{
mm_name(type = c("mle", "bayes", "night", "Kmodel", "sim"),
  pool_K600 = c("none", "normal", "linear", "binned", "complete"),
  err_obs_iid = c(TRUE, FALSE), err_proc_acor = c(FALSE, TRUE),
  err_proc_iid = c(FALSE, TRUE), ode_method = c("pairmeans", "Euler", "NA"),
  GPP_fun = c("linlight", "satlight", "NA"), ER_fun = c("constant",
  "q10temp", "NA"), deficit_src = c("DO_mod", "DO_obs", "DO_obs_filter",
  "NA"), engine = c("stan", "jags", "nlm", "lm", "mean", "loess", "rnorm"),
  check_validity = TRUE)
}
\arguments{
\item{type}{the model type, corresponding to the model fitting function 
(\code{\link{metab_bayes}}, \code{\link{metab_mle}}, etc.)}

\item{pool_K600}{Should the model pool information among days to get more 
consistent daily estimates for K600? Options: \code{'none'}=no pooling of 
K600; \code{'normal'}=\eqn{K600 ~ N(mu, sigma)}; \code{'linear'}=\eqn{K600 
~ N(B[0] + B[1]*Q, sigma)}; \code{'binned'}=\eqn{K600 ~ N(B[Q_bin], sigma)}
where \eqn{mu ~ N(mu_mu, mu_sigma)} and \eqn{sigma ~ N(sigma_mu, 
sigma_sigma)}. See Details for more.}

\item{err_obs_iid}{logical. Should IID observation error be included? If not,
the model will be fit to the differences in successive DO measurements, 
rather than to the DO measurements themselves.}

\item{err_proc_acor}{logical. Should autocorrelated process error (with the 
autocorrelation term phi fitted) be included?}

\item{err_proc_iid}{logical. Should IID process error be included?}

\item{ode_method}{The method to use in solving the ordinary differential 
equation for DO. Euler: dDOdt from t=1 to t=2 is solely a function of GPP, 
ER, DO, etc. at t=1. pairmeans: dDOdt from t=1 to t=2 is a function of the 
mean values of GPP, ER, etc. across t=1 and t=2.}

\item{GPP_fun}{How to partition daily GPP over time. \code{linlight}: GPP is 
a linear function of light with an intercept at 0. \code{satlight} GPP is a
saturating function of light.}

\item{ER_fun}{How to partition daily ER over time. \code{constant}: ER is
constant over every timestep of the day. \code{q10temp} (not yet
implemented): ER at each timestep is a function of the water temperature.}

\item{deficit_src}{From what DO estimate (observed or modeled) should the DO 
deficit be computed?}

\item{engine}{Which software are we generating code for?}

\item{check_validity}{if TRUE, checks the resulting name against 
mm_valid_names(type).}
}
\description{
A \code{model_name} concisely specifies the structure of a metabolism model. 
From a \code{model_name}, an appropriate set of model specifications 
(parameters and runtime options) can be generated with \code{\link{specs}}. 
From a complete \code{specs} list, a metabolism model can be run with 
\code{\link{metab}}.
}
\details{
While the \code{Usage} shows all valid values for each argument, not all 
argument combinations are valid; the combination will also be checked if 
\code{check_validity==TRUE}. For arguments not explicitly specified, defaults
depend on the value of \code{type}: any argument that is not explicitly 
supplied (besides \code{type} and \code{check_validity}) will default to the 
values indicated by \code{mm_parse_name(mm_valid_names(type)[1])}.



\subsection{pool_K600}{

Here are the essential model lines (in Stan language) that distinguish the K 
pooling options.

\tabular{l}{ \strong{\code{pool_K600 = 'none'}}\cr \code{K600_daily ~ 
normal(K600_daily_mu, K600_daily_sigma)} }

\tabular{l}{ \strong{\code{pool_K600 = 'normal'}}\cr \code{K600_daily ~ 
normal(K600_daily_mu, K600_daily_sigma)}\cr \code{K600_daily_mu ~ 
normal(K600_daily_mu_mu, K600_daily_mu_sigma)}\cr \code{K600_daily_sigma ~ 
gamma(K600_daily_sigma_shape, K600_daily_sigma_rate)} }

\tabular{l}{ \strong{\code{pool_K600 = 'linear'}}\cr \code{K600_daily_pred <-
K600_daily_beta[1] + K600_daily_beta[2] * discharge_daily}\cr 
\code{K600_daily ~ normal(K600_daily_pred, K600_daily_sigma)}\cr 
\code{K600_daily_beta ~ normal(K600_daily_beta_mu, K600_daily_beta_sigma)}\cr
\code{K600_daily_sigma ~ gamma(K600_daily_sigma_shape, 
K600_daily_sigma_rate)} }

\tabular{l}{ \strong{\code{pool_K600 = 'binned'}}\cr \code{K600_daily_pred <-
K600_daily_beta[Q_bin_daily]}\cr \code{K600_daily ~ normal(K600_daily_pred, 
K600_daily_sigma)}\cr \code{K600_daily_beta ~ normal(K600_daily_beta_mu, 
K600_daily_beta_sigma)}\cr \code{K600_daily_sigma ~ 
gamma(K600_daily_sigma_shape, K600_daily_sigma_rate)} }

\tabular{l}{ \strong{\code{pool_K600 = 'complete'}}\cr [This option refers to
complete pooling via \code{metab_Kmodel} in conjunction with preceding 
estimates of K (e.g., by \code{metab_mle} or \code{metab_night}) and 
subsequent estimates of GPP and ER (e.g., by \code{metab_mle} with daily K600
values specified)] }

}
}
\examples{
mm_name('mle')
mm_name('night')
mm_name('sim')
mm_name('bayes')
}
\seealso{
The converse of this function is \code{\link{mm_parse_name}}.
}

