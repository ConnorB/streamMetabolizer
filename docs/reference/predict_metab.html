<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Predict metabolism from a fitted model. — predict_metab • streamMetabolizer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Predict metabolism from a fitted model. — predict_metab" />
<meta property="og:description" content="A function in the metab_model_interface. Returns predictions (estimates) of
GPP, ER, and K600." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">streamMetabolizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_prep.html">Data Preparation</a>
    </li>
    <li>
      <a href="../articles/get_started.html">Quickstart</a>
    </li>
    <li>
      <a href="../articles/gpp_er_eqs.html">GPP and ER Equations</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/model_structures.html">Model Structures</a>
    </li>
    <li>
      <a href="../articles/models_bayes.html">Bayesian Models</a>
    </li>
    <li>
      <a href="../articles/models_mle.html">MLE Models</a>
    </li>
    <li>
      <a href="../articles/ode_methods.html">ODE Methods</a>
    </li>
    <li>
      <a href="../articles/simulations.html">Simulations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USGS-R/streamMetabolizer/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict metabolism from a fitted model.</h1>
    <small class="dont-index">Source: <a href='https://github.com/USGS-R/streamMetabolizer/blob/master/R/metab_model_interface.R'><code>R/metab_model_interface.R</code></a>, <a href='https://github.com/USGS-R/streamMetabolizer/blob/master/R/metab_bayes.R'><code>R/metab_bayes.R</code></a>, <a href='https://github.com/USGS-R/streamMetabolizer/blob/master/R/metab_model.predict_metab.R'><code>R/metab_model.predict_metab.R</code></a></small>
    <div class="hidden name"><code>predict_metab.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function in the metab_model_interface. Returns predictions (estimates) of
GPP, ER, and K600.</p>
    </div>

    <pre class="usage"><span class='fu'>predict_metab</span><span class='op'>(</span>
  <span class='va'>metab_model</span>,
  date_start <span class='op'>=</span> <span class='cn'>NA</span>,
  date_end <span class='op'>=</span> <span class='cn'>NA</span>,
  day_start <span class='op'>=</span> <span class='fu'><a href='get_specs.html'>get_specs</a></span><span class='op'>(</span><span class='va'>metab_model</span><span class='op'>)</span><span class='op'>$</span><span class='va'>day_start</span>,
  day_end <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>day_start</span> <span class='op'>+</span> <span class='fl'>24</span>, <span class='fu'><a href='get_specs.html'>get_specs</a></span><span class='op'>(</span><span class='va'>metab_model</span><span class='op'>)</span><span class='op'>$</span><span class='va'>day_end</span><span class='op'>)</span>,
  <span class='va'>...</span>,
  attach.units <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  use_saved <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='co'># S3 method for metab_bayes</span>
<span class='fu'>predict_metab</span><span class='op'>(</span>
  <span class='va'>metab_model</span>,
  date_start <span class='op'>=</span> <span class='cn'>NA</span>,
  date_end <span class='op'>=</span> <span class='cn'>NA</span>,
  <span class='va'>...</span>,
  attach.units <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># S3 method for metab_model</span>
<span class='fu'>predict_metab</span><span class='op'>(</span>
  <span class='va'>metab_model</span>,
  date_start <span class='op'>=</span> <span class='cn'>NA</span>,
  date_end <span class='op'>=</span> <span class='cn'>NA</span>,
  day_start <span class='op'>=</span> <span class='fu'><a href='get_specs.html'>get_specs</a></span><span class='op'>(</span><span class='va'>metab_model</span><span class='op'>)</span><span class='op'>$</span><span class='va'>day_start</span>,
  day_end <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>day_start</span> <span class='op'>+</span> <span class='fl'>24</span>, <span class='fu'><a href='get_specs.html'>get_specs</a></span><span class='op'>(</span><span class='va'>metab_model</span><span class='op'>)</span><span class='op'>$</span><span class='va'>day_end</span><span class='op'>)</span>,
  <span class='va'>...</span>,
  attach.units <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  use_saved <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>metab_model</th>
      <td><p>A metabolism model, implementing the
metab_model_interface, to use in predicting metabolism</p></td>
    </tr>
    <tr>
      <th>date_start</th>
      <td><p>Date or a class convertible with as.Date. The first date
(inclusive) for which to report metabolism predictions. If NA, no filtering
is done.</p></td>
    </tr>
    <tr>
      <th>date_end</th>
      <td><p>Date or a class convertible with as.Date. The last date
(inclusive) for which to report metabolism predictions. If NA, no filtering
is done.</p></td>
    </tr>
    <tr>
      <th>day_start</th>
      <td><p>start time (inclusive) of a day's data in number of hours
from the midnight that begins the date. For example, day_start=-1.5
indicates that data describing 2006-06-26 begin at 2006-06-25 22:30, or at
the first observation time that occurs after that time if day_start doesn't
fall exactly on an observation time. For daily metabolism predictions,
day_end - day_start should probably equal 24 so that each day's estimate is
representative of a 24-hour period.</p></td>
    </tr>
    <tr>
      <th>day_end</th>
      <td><p>end time (exclusive) of a day's data in number of hours from
the midnight that begins the date. For example, day_end=30 indicates that
data describing 2006-06-26 end at the last observation time that occurs
before 2006-06-27 06:00. For daily metabolism predictions, day_end -
day_start should probably equal 24 so that each day's estimate is
representative of a 24-hour period.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments passed to class-specific implementations of
<code>predict_metab</code></p></td>
    </tr>
    <tr>
      <th>attach.units</th>
      <td><p>(deprecated, effectively FALSE in future) logical. Should
units be attached to the output?</p></td>
    </tr>
    <tr>
      <th>use_saved</th>
      <td><p>logical. Is it OK to use predictions that were saved with
the model?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame of daily metabolism estimates. Columns include:</p><dl>

  <dt>GPP</dt><dd><p>numeric estimate of Gross Primary Production, positive when
  realistic, \(g O_2 m^{-2} d^{-1}\)</p></dd>

  <dt>ER</dt><dd><p>numeric estimate of Ecosystem Respiration, negative when
  realistic, \(g O_2 m^{-2} d^{-1}\)</p></dd>

  <dt>K600</dt><dd><p>numeric estimate of the reaeration rate \(d^{-1}\)</p></dd> 
</dl>

    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>metab_bayes</code>: Pulls daily metabolism estimates out of the Stan
model results; looks for <code>GPP</code> or <code>GPP_daily</code> and for <code>ER</code>
or <code>ER_daily</code> among the <code>params_out</code> (see <code><a href='specs.html'>specs</a></code>),
which means you can save just one (or both) of those sets of daily
parameters when running the Stan model. Saving fewer parameters can help
models run faster and use less RAM.</p></li>
<li><p><code>metab_model</code>: This implementation is shared by many model types</p></li>
</ul>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other metab_model_interface: 
<code><a href='get_data_daily.html'>get_data_daily</a>()</code>,
<code><a href='get_data.html'>get_data</a>()</code>,
<code><a href='get_fitting_time.html'>get_fitting_time</a>()</code>,
<code><a href='get_fit.html'>get_fit</a>()</code>,
<code><a href='get_info.html'>get_info</a>()</code>,
<code><a href='get_param_names.html'>get_param_names</a>()</code>,
<code><a href='get_params.html'>get_params</a>()</code>,
<code><a href='get_specs.html'>get_specs</a>()</code>,
<code><a href='get_version.html'>get_version</a>()</code>,
<code><a href='predict_DO.html'>predict_DO</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='data_metab.html'>data_metab</a></span><span class='op'>(</span><span class='st'>'3'</span>, day_start<span class='op'>=</span><span class='fl'>12</span>, day_end<span class='op'>=</span><span class='fl'>36</span><span class='op'>)</span>
<span class='va'>mm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='metab_night.html'>metab_night</a></span><span class='op'>(</span><span class='fu'><a href='specs.html'>specs</a></span><span class='op'>(</span><span class='fu'><a href='mm_name.html'>mm_name</a></span><span class='op'>(</span><span class='st'>'night'</span><span class='op'>)</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='fu'>predict_metab</span><span class='op'>(</span><span class='va'>mm</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         date GPP GPP.lower GPP.upper        ER  ER.lower  ER.upper msgs.fit
#&gt; 1 2012-09-18   0        NA        NA -2.122498 -2.351240 -1.893755         
#&gt; 2 2012-09-19   0        NA        NA -2.927715 -3.233801 -2.621628         
#&gt; 3 2012-09-20   0        NA        NA -2.125522 -2.305859 -1.945185         
#&gt;   warnings errors
#&gt; 1                
#&gt; 2                
#&gt; 3                </div><div class='input'><span class='fu'>predict_metab</span><span class='op'>(</span><span class='va'>mm</span>, date_start<span class='op'>=</span><span class='fu'><a href='get_fit.html'>get_fit</a></span><span class='op'>(</span><span class='va'>mm</span><span class='op'>)</span><span class='op'>$</span><span class='va'>date</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         date GPP GPP.lower GPP.upper        ER  ER.lower  ER.upper msgs.fit
#&gt; 1 2012-09-19   0        NA        NA -2.927715 -3.233801 -2.621628         
#&gt; 2 2012-09-20   0        NA        NA -2.125522 -2.305859 -1.945185         
#&gt;   warnings errors
#&gt; 1                
#&gt; 2                </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alison P. Appling, Robert O. Hall, Maite Arroita, Charles B. Yackulic.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


